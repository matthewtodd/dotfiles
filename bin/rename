#!/usr/bin/env ruby

require 'fileutils'

pattern = Regexp.compile(ARGV.shift)
replace = ARGV.shift

ARGV.each do |path|
  new_path = path.sub(pattern, replace)

  unless new_path == path
    FileUtils.mv path, new_path, :verbose => true
  end
end
