#!/usr/bin/env ruby

require 'rubygems'
require 'graph'
require 'dep_analyzer'

class HomebrewAnalyzer < DepAnalyzer
  def installed
    `brew list`.lines.map { |line| line.chomp }
  end

  def outdated
    `brew outdated`.lines.map { |line| line.split.first }
  end

  def deps(package)
    `brew deps #{package}`.strip.lines.map { |line| line.strip }
  end
end

if __FILE__ == $0
  HomebrewAnalyzer.new.run
end
